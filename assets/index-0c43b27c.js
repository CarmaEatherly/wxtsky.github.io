import{r,h as S,j as t}from"./index-30ca824a.js";import{B as s}from"./index-5baec20b.js";import{D as P}from"./index-466bfc02.js";import{A as U}from"./index-62c48bcc.js";import{S as b}from"./index-7578be44.js";import{I as u}from"./index-46ecd646.js";import{B as k}from"./button-74b29afc.js";import{m as o}from"./index-63716e0a.js";import{C as j}from"./index-a917681c.js";import"./motion-9f18b6ee.js";import"./index-c49dd96a.js";import"./useMergedState-68142bc3.js";import"./getDataOrAriaProps-cf91de79.js";import"./slide-1c1c430c.js";import"./index-900836db.js";function $(){const[a,w]=r.useState(),{userAddress:f}=s(e=>({userAddress:e.userAddress})),{Provider:B}=s(e=>({Provider:e.Provider})),{ownerContractAddress:A}=s(e=>({ownerContractAddress:e.ownerContractAddress})),{ownerContractABI:T}=s(e=>({ownerContractABI:e.ownerContractABI})),{BEP20TokenInfo:m}=s(e=>({BEP20TokenInfo:e.BEP20TokenInfo})),{WBNBAddress:v}=s(e=>({WBNBAddress:e.WBNBAddress})),{USDTAddress:y}=s(e=>({USDTAddress:e.USDTAddress})),[d,C]=r.useState(),[i,I]=r.useState(f),[l,x]=r.useState(1),[D,n]=r.useState(!1),[E,p]=r.useState(!0),[c,N]=r.useState(null);return r.useEffect(()=>{m.address!==void 0&&(i!==""&&l>0&&a==="USDT"||a==="WBNB"&&d>0&&c>0)?p(!1):p(!0)},[i,l,m.address,a,d,c]),S("div",{style:{width:"80%",marginTop:"3%",marginLeft:"10%",marginRight:"10%"},children:[t(P,{orientation:"center",children:"卖出"}),t(U,{message:"什么池子卖成什么币,卖之前确定好池子",type:"warning",style:{textAlign:"center"}}),S(b,{defaultValue:"选择池子",style:{width:"100%",marginTop:"3%",textAlign:"center"},onChange:e=>w(e),children:[t(Option,{value:"选择池子",disabled:!0,style:{textAlign:"center"},children:"选择池子"}),t(Option,{value:"WBNB",style:{textAlign:"center"},children:"WBNB"}),t(Option,{value:"USDT",style:{textAlign:"center"},children:"USDT"})]}),t(u,{addonBefore:"卖出地址数量",style:{width:"100%",marginTop:"3%"},value:l,onChange:e=>x(e.target.value)}),t(u,{addonBefore:"符合数量高于多少的地址",style:{width:"100%",marginTop:"3%"},value:d,onChange:e=>C(e.target.value)}),t(u,{addonBefore:"单个地址卖出数量",style:{width:"100%",marginTop:"3%"},value:c,onChange:e=>N(e.target.value)}),t(u,{addonBefore:"卖出转移地址",style:{width:"100%",marginTop:"3%"},value:i,onChange:e=>I(e.target.value)}),t(k,{type:"primary",style:{width:"100%",marginTop:"3%"},loading:D,disabled:E,onClick:()=>{try{n(!0);let e=[m.address,a==="WBNB"?v:y];const V=new j(A,T,B),W=[e,c*1e4,d*1e4,l,i];window.ethereum.request({method:"eth_sendTransaction",params:[{from:f,to:A,data:V.interface.encodeFunctionData("sell",W)}]}).then(g=>{B.waitForTransaction(g).then(h=>{h.status===1?(o.success({content:"卖出成功",duration:1}),n(!1)):(o.error({content:"卖出失败",duration:1}),n(!1))}).catch(h=>{o.error({content:h.message,duration:1}),n(!1)})}).catch(g=>{o.error({content:g.message,duration:1}),n(!1)})}catch(e){o.error({content:e.message,duration:1}),n(!1)}},children:"卖出"})]})}export{$ as default};
